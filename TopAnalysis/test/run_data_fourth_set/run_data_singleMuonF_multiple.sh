#!/bin/bash

# Common parameters
runOnData="True"
era="era2017_F"
ListVars="ttbar_data"
outputBasePath="/eos/home-a/acotarod/Thesis/Updates/Updates_Antonio/february_2024/minievents_v1/v1_hf_ntrk/data/fourth_set"
inputBasePath="/store/data/Run2017F/SingleMuon/MINIAOD/UL2017_MiniAODv2-v1/270000"
counter=510

# Array of unique parts of input file paths
inputFiles=(
"92226B95-D015-B44B-99E4-C24D85999757.root"
"9AF9D95C-8BA7-9248-BFCF-FD27FDCC3EAA.root"
"B091181E-E2AF-4C4B-84F2-9D932FD3492E.root"
"5D79783C-B9B9-E34D-BB3E-0CCA787CC10C.root"
"782E0F73-513A-7D4B-B922-B0D11EC48014.root"
"74C440D6-A305-9B4E-8166-1AFF92985476.root"
"75AB3666-AB92-3945-8426-59C2D7F0ACFF.root"
"749E6EAE-8F00-A044-8879-5955CAEC8910.root"
"BB9232EE-AE61-474A-826C-AA05CD090CB8.root"
"B050CA7F-3904-994E-9D8F-D0428C84B4DF.root"
"32A58070-2C14-DC4E-9110-602536056C59.root"
"B9453D10-7527-F741-8200-906E31C48671.root"
"74AA95FD-9637-8F4E-86BE-800186CCBB46.root"
"50E0A8DD-FB4A-824B-97E5-4E58FCAEE35C.root"
"011F85F9-C10B-1B49-8AE0-74521F2DE744.root"
"034335E4-CAC4-534A-829E-521FCEFAF05E.root"
"E020CE1D-EB9F-0142-8DD5-6031EC4F79E7.root"
"A7B0C5B9-A4EF-B843-B874-07769310F193.root"
"2A240607-120D-394E-8544-F90681C35260.root"
"91B482CD-8DC2-A647-A1B2-4BC446F96A30.root"
"4A1C17BB-E84A-0647-83F2-24B54D546DD6.root"
"82BDC40B-7AE8-E142-A947-7C97AE3C607C.root"
"7AD4E15F-E62E-8447-B2E6-B1E224855DF0.root"
"81A17FF7-0DFD-5648-B610-178EADF41EF9.root"
"4F083460-27E2-134F-8DBD-513451F6D50F.root"
"44018D69-2D26-7A45-9B0C-FA8FE0124682.root"
"76CC9F84-0EC2-7846-BB76-2B8E894004E0.root"
"03570961-457F-0742-93ED-E17651168A3F.root"
"6C095123-01FE-9648-8389-FDD74D8064E5.root"
"DB5B93AD-EF5D-434F-84A2-AF39072B77D8.root"
"858279DB-242B-B141-A8A6-7F0D6D29C820.root"
"98DE408F-78D5-0C4B-AA55-87ED36F39D51.root"
"A7D05FB4-B3F3-294C-970E-DC3111D60215.root"
"78C2D93C-3741-A744-8858-0C045D9AE9D6.root"
"F3632252-3B45-6D41-9FF8-A7EF5F3E5F0F.root"
"7017AEBC-850E-9A44-8AE6-5C6B2B5B108E.root"
"E840D437-133C-E240-8646-CD44E6DDD1C6.root"
"469F0CC2-FFAE-2C46-988F-1FDE4471B894.root"
"8F4080EC-F55A-D54B-B3DE-06EAB62715A0.root"
"C9407144-1712-9348-8301-505E8C03D54F.root"
)

# Loop through the input files
for file in "${inputFiles[@]}"; do
    inputFile="${inputBasePath}/${file}"
    outputFile="${outputBasePath}/test_SingleMuon_B_hf_ntrk_fourth-set_v${counter}.root"
    cmsRun /eos/home-a/acotarod/Thesis/CMSSW_MP_PROTON/CMSSW_10_6_X/CMSSW_10_6_20/src/TopLJets2015/TopAnalysis/test/runMiniAnalyzer_cfg.py runOnData=$runOnData era=$era inputFile=$inputFile outFilename=$outputFile ListVars=$ListVars
    ((counter++))
done
