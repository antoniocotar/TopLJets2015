#!/bin/bash

# Common parameters
runOnData="True"
era="era2017_F"
ListVars="ttbar_data"
outputBasePath="/eos/home-a/acotarod/Thesis/Updates/Updates_Antonio/february_2024/minievents_v1/v1_hf_ntrk/data/fourth_set"
inputBasePath="/store/data/Run2017F/SingleMuon/MINIAOD/UL2017_MiniAODv2-v1/280000"
counter=790

# Array of unique parts of input file paths
inputFiles=(
"BBEEEBA5-C6B4-F24E-AB0B-4FCF1259E927.root"
"30E4EB2F-AD07-5D4E-BB56-15BA82EFD2B4.root"
"5DA26245-50A8-8F4A-89C9-C10F06B4D79E.root"
"E9A33D35-F815-8B45-99B2-DF3BE48A709B.root"
"4B08AD2C-DEA5-2F48-A0EA-7A98A8F4D29F.root"
"EC4F3324-ED7F-A74B-901F-1C8CE3C3AE00.root"
"7DD4DF8E-B4AB-044E-ADA1-058C409E9D33.root"
"E2D7551D-93F0-874A-9412-B4C45722FA2B.root"
"F98983B1-E50C-4045-AF6C-C138C8D2CAD9.root"
"4912145B-076C-694B-B23F-AB110EA3BFC7.root"
"DE8B17B9-EC45-4942-A86C-6B5B78AC9DF7.root"
"D03D416D-0850-744E-947E-DB36CB763B4F.root"
"8CD17EE5-E2B0-D64E-AA74-183697C9B617.root"
"DBB796D5-CBD2-1A40-934E-A081BD139920.root"
"F6D18C96-FD8D-E948-9799-7532D93A804E.root"
"9BC9D263-7B88-5F40-A040-F38254CE7085.root"
"B68AA211-B802-B842-B281-6071CC425EAC.root"
"27A8D6CB-0C6E-8245-8189-92A3BE9A76DE.root"
"5CC11AA7-A503-D248-A595-8705BD78EA88.root"
"FA71C4E8-BBBA-FA4C-8DB1-EB5C1908BFCC.root"
"15C3288F-936C-6841-A4E3-60D44F1D01DB.root"
"90FC7A2B-523E-3948-977B-AD8B816DDFDE.root"
"AAB843E8-48E6-8549-8C3D-CC5C5DD17ABF.root"
"DA98865E-AB72-EE4F-93B7-EF7214078A00.root"
"78991B81-8C19-5A4F-A4AF-7ECD9D2E4832.root"
"DFE7E517-7B21-CC47-9548-8BD641349065.root"
"836EAC0E-8C69-AC4D-9203-01235E79BB65.root"
"37256303-91B5-B743-84C0-1F963EB0C60B.root"
"89F93B7B-7107-A046-B574-3618847476D1.root"
"F46445C9-246B-5D42-B8CB-69AA8BBE33CB.root"
"24AB27B8-88D0-8047-A025-22D8F52FB0BE.root"
"E4253554-2180-8D43-AFA7-E1FA86D57016.root"
"00F5C30D-8501-DB42-BDFB-54923A5BC3B9.root"
"E1A66C9F-1C7B-9C49-80C6-5C56C4B56960.root"
"1E4384C4-DF18-B34D-92FE-5FC8962C4D9E.root"
"263F9E90-8B92-8F49-8AD2-F3647F2C1A54.root"
"96A9F01D-AA83-D747-BDFC-D903BA31E824.root"
"3BD5F37F-4061-924F-81CA-4D554530610F.root"
"7E16904D-B0F2-4340-9582-2D5E1FC4A726.root"
"28ED0486-09AD-8B49-89EF-BD24406A6CD8.root"
"9A1581BE-3A9E-934E-A64E-8DF58B4857CD.root"
)

# Loop through the input files
for file in "${inputFiles[@]}"; do
    inputFile="${inputBasePath}/${file}"
    outputFile="${outputBasePath}/test_SingleMuon_B_hf_ntrk_fourth-set_v${counter}.root"
    cmsRun /eos/home-a/acotarod/Thesis/CMSSW_MP_PROTON/CMSSW_10_6_X/CMSSW_10_6_20/src/TopLJets2015/TopAnalysis/test/runMiniAnalyzer_cfg.py runOnData=$runOnData era=$era inputFile=$inputFile outFilename=$outputFile ListVars=$ListVars
    ((counter++))
done
