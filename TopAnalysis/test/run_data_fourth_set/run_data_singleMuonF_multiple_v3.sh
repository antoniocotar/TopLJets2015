#!/bin/bash

# Common parameters
runOnData="True"
era="era2017_F"
ListVars="ttbar_data"
outputBasePath="/eos/home-a/acotarod/Thesis/Updates/Updates_Antonio/february_2024/minievents_v1/v1_hf_ntrk/data/fourth_set"
inputBasePath="/store/data/Run2017F/SingleMuon/MINIAOD/UL2017_MiniAODv2-v1/280000"
counter=590

# Array of unique parts of input file paths
inputFiles=(
"26D8A67F-7CA7-7840-923B-35011E59E9A1.root"
"F9CE4573-9406-D74E-9BAF-BEBF3E75B7C8.root"
"4DA5D6E7-6CA2-C74D-B27E-6D4546467517.root"
"96E3DCFD-0310-CD4C-BD7A-C92C64B41CF1.root"
"65AD4952-B7B7-8E4D-B707-D4612A666D04.root"
"23A92C4B-C535-E149-B5BD-BE12108ACDCC.root"
"F139439F-4C7F-BA44-AF4C-08EB070FBCED.root"
"A427D51B-1802-4A4B-BA0D-851B34387E6E.root"
"59949C98-0DEC-E845-84B6-BC51179272B8.root"
"02229C20-35B6-6343-AA7C-67E93D338D52.root"
"EF64CAF2-0C84-9346-BC6D-18E09FCEDB84.root"
"6CFA5071-B8CB-CD45-B7B5-FFC10A8770B2.root"
"BD8B09BA-C8D3-F44D-BF21-19B87D119E6C.root"
"64CF17D9-25F5-AC4F-A5E6-42516F04A28A.root"
"829C4E4A-61D2-9D47-9C2B-3E7EA419C024.root"
"A5D77635-9917-B54A-AC87-CA954B0443C1.root"
"FFD5989E-4381-6047-9EE0-6A3563234A9D.root"
"26F489AC-DBF6-3E40-8908-605F5A1AC2D1.root"
"A94CE536-EEE4-4147-A890-401FD2950348.root"
"22BAED99-5D78-F34D-AA41-583069C04D19.root"
"7E312F9E-D732-0B4E-8C6F-1726294F4A33.root"
"16F905FF-DE6E-F24B-9CBC-8A316848D6B5.root"
"C5582B0C-8740-4345-8B53-BF1ACBBFEA9B.root"
"91309FB9-FC21-F840-B938-736A16CFC36F.root"
"7AA80155-2520-CF4A-A905-68F87AD76782.root"
"AED8ADC7-3E5A-3A44-A4C4-1E16B20A416B.root"
"9C138EB3-E427-0447-BC10-A267026CD5AB.root"
"8883569E-6FB3-A345-A9C8-53E19DDBFAC8.root"
"DE822D18-E4CB-9249-A7E4-C9C1FF9384CA.root"
"09E3AD38-19D6-5741-9C28-04BA19EDEA9B.root"
"BAD3FC38-B711-5F46-A3BA-2B6C98174E4C.root"
"98089089-AA69-114A-90A6-ED64267AEBB9.root"
"4904C9C4-D653-FD48-AECB-AB3148D6CBC7.root"
"13DD68C4-C98B-F84A-A89D-89A1B9D00D37.root"
"D967A733-7254-4844-8D44-1985659B569E.root"
"7BD591F1-6262-1A4C-8CEC-98A0AEF699A5.root"
"1DE7F79A-70AB-484F-A513-50F33486E800.root"
"2313182E-EA4E-1D48-B4C7-BD3D2E5B958D.root"
"5607F411-233A-7447-973B-74AAD8582B54.root"
"770090F4-934D-4444-8B97-09CFA0A73913.root"
)

# Loop through the input files
for file in "${inputFiles[@]}"; do
    inputFile="${inputBasePath}/${file}"
    outputFile="${outputBasePath}/test_SingleMuon_B_hf_ntrk_fourth-set_v${counter}.root"
    cmsRun /eos/home-a/acotarod/Thesis/CMSSW_MP_PROTON/CMSSW_10_6_X/CMSSW_10_6_20/src/TopLJets2015/TopAnalysis/test/runMiniAnalyzer_cfg.py runOnData=$runOnData era=$era inputFile=$inputFile outFilename=$outputFile ListVars=$ListVars
    ((counter++))
done
