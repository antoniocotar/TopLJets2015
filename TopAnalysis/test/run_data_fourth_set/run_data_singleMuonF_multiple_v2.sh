#!/bin/bash

# Common parameters
runOnData="True"
era="era2017_F"
ListVars="ttbar_data"
outputBasePath="/eos/home-a/acotarod/Thesis/Updates/Updates_Antonio/february_2024/minievents_v1/v1_hf_ntrk/data/fourth_set"
inputBasePath="/store/data/Run2017F/SingleMuon/MINIAOD/UL2017_MiniAODv2-v1/280000"
counter=550

# Array of unique parts of input file paths
inputFiles=(
"EBF9CD8B-9598-9C44-BD8B-CFDF8E9DE062.root"
"70655426-CFB9-5147-BFC7-B83117A3145B.root"
"FA952FFA-685E-7041-836A-72EA628D7E30.root"
"2F5AF44C-A16D-ED44-9B6D-FFB7E07E3ECD.root"
"BD847FFB-B9A0-C34A-B313-ACB63DC1DBFE.root"
"B89528D8-A04F-1E42-AD32-8B4918D21BD6.root"
"9F0BF590-27C1-6B4E-9683-12273DBE7D9A.root"
"3A68AF02-3321-BA4F-9C69-849BD87DC7C2.root"
"6C2B779F-3A7C-5D4D-A1A8-432F8775FD28.root"
"F682C002-4E72-664C-BF0A-63A708A9F4BA.root"
"CCF04ADB-C811-BD4E-8088-B90F029AC0DE.root"
"69E4854E-3CA3-FA4E-A46D-D967225E925D.root"
"40439839-79B0-274A-A837-2A756F5D6968.root"
"D4C9079D-CE08-CC49-8DF9-95D74B1F1E8C.root"
"7E1DDA26-5C64-5249-9456-A40EDF68F37D.root"
"468A35DD-17D4-A643-A116-ADE829E6FD15.root"
"B7C98028-7DCF-3841-A62C-27AC3429F7E3.root"
"4CE525F3-F1A7-0E48-AF75-B0AA194C7625.root"
"B993FF22-F9B4-0949-8E2E-2D5017A3665D.root"
"EA93BE59-E5AD-8046-8333-C7E63ED3627A.root"
"7AD2A0B0-047F-6946-9AC5-727978A50A82.root"
"9BEF73EE-CC77-2844-AB16-D09DC1A79B91.root"
"610DFFCF-50F4-8847-B5E0-AF1F1ED10D12.root"
"85682A33-5581-614A-800E-718668DD30A2.root"
"636FF581-D87D-564D-B3E0-6E3B9F3B770B.root"
"F40E7856-52CE-404B-9F6E-49359C4480DF.root"
"0D410730-F7DE-1B4A-B906-F3205E173C12.root"
"C761D27F-2AEF-524A-9766-3C13A0DE5E35.root"
"22A00457-BE7A-DC4B-915B-1E536C564C13.root"
"661F0DA0-9178-E145-84C0-0A5F922AACE7.root"
"92FE015D-9ABB-374E-9CD8-44FC705053A0.root"
"D99FD7FF-4DB6-F949-AFA7-8F02CB998303.root"
"772071E3-4481-254B-B7D5-DAB6D2363446.root"
"305F97A6-3311-E74C-9128-CEFC9F329416.root"
"A8BA36D1-7961-7D46-B71D-07471362A91F.root"
"4928F22B-0FD6-6142-B2E9-71A9ED44DE99.root"
"DCBC6674-13A0-BB44-9212-621430DFFA03.root"
"67A547EF-9453-1948-9681-B015E7B9B183.root"
"8D936241-D043-FD40-9A98-B29903319713.root"
"52E03C7D-5346-1647-BE96-DB1A9418F7C8.root"
)

# Loop through the input files
for file in "${inputFiles[@]}"; do
    inputFile="${inputBasePath}/${file}"
    outputFile="${outputBasePath}/test_SingleMuon_B_hf_ntrk_fourth-set_v${counter}.root"
    cmsRun /eos/home-a/acotarod/Thesis/CMSSW_MP_PROTON/CMSSW_10_6_X/CMSSW_10_6_20/src/TopLJets2015/TopAnalysis/test/runMiniAnalyzer_cfg.py runOnData=$runOnData era=$era inputFile=$inputFile outFilename=$outputFile ListVars=$ListVars
    ((counter++))
done
