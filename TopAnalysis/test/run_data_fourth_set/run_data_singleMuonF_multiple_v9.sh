#!/bin/bash

# Common parameters
runOnData="True"
era="era2017_F"
ListVars="ttbar_data"
outputBasePath="/eos/home-a/acotarod/Thesis/Updates/Updates_Antonio/february_2024/minievents_v1/v1_hf_ntrk/data/fourth_set"
inputBasePath="/store/data/Run2017F/SingleMuon/MINIAOD/UL2017_MiniAODv2-v1/280000"
counter=830

# Array of unique parts of input file paths
inputFiles=(
"0781C2A2-C108-A742-BCBB-1987C0F39B66.root"
"A4EE06E4-011D-2740-92CB-8FA5FAE96C0C.root"
"C93425F5-9216-3749-AE2F-F62E48D83D23.root"
"5C183942-E647-AD4E-93DA-73DEDF076331.root"
"BEBCA49D-0CB1-F948-AA7F-9858A41FC79D.root"
"EDE242FB-5373-CC4F-BEB7-67DD87F0D51C.root"
"34417229-B139-E84C-97A1-FEE986C18ADE.root"
"463F795A-1EEA-D449-B28E-A0B135BB7F3D.root"
"31942FA8-F7F0-FC4C-ADAA-90D3D5847465.root"
"DA993283-CDE4-1945-87A6-552E309F157A.root"
"E13D0A10-C4BC-6D4C-90FB-420C9F2B1BF5.root"
"C316CD63-67CC-AE4C-896E-F1B3773BA233.root"
"B9AC13F7-8591-184C-868B-0FEBA5C5A1D9.root"
"BB062DDF-E9DD-4C41-9FF4-BD697BBC7560.root"
"DCDDB2CC-1151-D743-8590-43B3BECF17B5.root"
"3716324E-08DD-AC40-8DAB-6576F6695B23.root"
"2DDFA383-6B6D-E340-B8E0-9DE355B333D5.root"
"205EE573-E7F9-6642-A8A9-597F323F7E96.root"
"770CD5B3-95B7-704F-A19D-68BF9FD093B8.root"
"67681DED-7551-6A40-8420-01D6CEF3201E.root"
"9108ED22-96B5-CD44-B71A-5FCFA75BEEA5.root"
"A8C65552-41C0-754E-8F5D-197E941063A6.root"
"3D7A512C-2087-AC44-A4B9-69EBF931F537.root"
"5204A367-C41C-C742-9390-50A2A8151062.root"
"4BF97283-77F0-E445-804D-A977D2BF06E8.root"
"B3D46046-F354-1944-9E6A-6C897EF667C4.root"
"C25C81BC-1997-BD4F-B875-042A67533545.root"
"508F64B3-1CA4-A64D-A255-BF7DD43B43C6.root"
"28CBE348-A107-824E-A929-4702BECC892B.root"
"CE60BAAE-AA42-0E46-915A-17CA15FB461C.root"
"145BCF33-6018-214A-9295-4490BBABEC02.root"
"C26595E8-FEA4-CE4C-BC2A-112F662B4404.root"
"74D0ED51-F23F-854D-8208-A0F0AF25C8A6.root"
"5C6B62A1-50BA-6545-ACB8-E3BC57AAFFDB.root"
"6F42E1D4-D385-8C48-80E5-BFEC2728DD54.root"
"695BAD57-BDFD-7648-A8C7-1F2A698D53D4.root"
"88FBD2D0-BF24-204C-9587-CE91D2B79DBE.root"
"9ECAE767-7B9F-C049-A975-9A39EF0472DA.root"
"000314FC-3324-4C47-8B59-F9BF7B973CF2.root"
"7C473E0B-E74C-B548-881B-19D21F21356D.root"
)

# Loop through the input files
for file in "${inputFiles[@]}"; do
    inputFile="${inputBasePath}/${file}"
    outputFile="${outputBasePath}/test_SingleMuon_B_hf_ntrk_fourth-set_v${counter}.root"
    cmsRun /eos/home-a/acotarod/Thesis/CMSSW_MP_PROTON/CMSSW_10_6_X/CMSSW_10_6_20/src/TopLJets2015/TopAnalysis/test/runMiniAnalyzer_cfg.py runOnData=$runOnData era=$era inputFile=$inputFile outFilename=$outputFile ListVars=$ListVars
    ((counter++))
done
